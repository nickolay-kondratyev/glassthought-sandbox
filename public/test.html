<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3D Graph Test</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    #graph-container {
      width: 100vw;
      height: 100vh;
    }
  </style>
  <!-- Direct script imports to avoid any bundling issues -->
  <script src="https://unpkg.com/3d-force-graph@1.73.0/dist/3d-force-graph.min.js"></script>
</head>
<body>
  <div id="graph-container"></div>

  <script>
    console.log('Test page loading...');
    
    // Wait for everything to fully load
    window.addEventListener('load', () => {
      console.log('Window loaded, initializing graph...');
      
      try {
        const elem = document.getElementById('graph-container');
        console.log('Container element:', elem);
        
        // Sample data
        const data = {
          nodes: [
            {id: 'a', name: 'Node A', val: 20, color: 'red'},
            {id: 'b', name: 'Node B', val: 15, color: 'blue'},
            {id: 'c', name: 'Node C', val: 25, color: 'green'}
          ],
          links: [
            {source: 'a', target: 'b'},
            {source: 'a', target: 'c'},
            {source: 'b', target: 'c'}
          ]
        };
        
        console.log('Creating graph with data:', data);
        
        // Create graph
        const graph = ForceGraph3D()
          (elem)
          .backgroundColor('#101020')
          .nodeAutoColorBy('id')
          .nodeLabel(node => node.name)
          .graphData(data);
        
        console.log('Graph initialized!');
        
        // Make available globally for debugging
        window.graph = graph;
        
      } catch(err) {
        console.error('Error initializing graph:', err);
      }
    });
  </script>
</body>
</html> 