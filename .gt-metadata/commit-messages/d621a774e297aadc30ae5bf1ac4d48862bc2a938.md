### Code
```kotlin
package com.glassthought.sandbox

import gt.sandbox.util.output.out
import io.methvin.watcher.DirectoryChangeEvent
import io.methvin.watcher.DirectoryWatcher
import kotlinx.coroutines.delay
import kotlinx.coroutines.runBlocking
import java.io.IOException
import java.nio.file.Files
import java.nio.file.Path
import java.util.concurrent.CompletableFuture
import kotlin.concurrent.thread


class DirectoryWatchingUtility(private val directoryToWatch: Path) {
  private val watcher: DirectoryWatcher = DirectoryWatcher.builder()
    .path(directoryToWatch) // or use paths(directoriesToWatch)
    .listener { event: DirectoryChangeEvent ->
      when (event.eventType()) {
        DirectoryChangeEvent.EventType.CREATE -> out.info("Event caught-File created: " + event.path())
        DirectoryChangeEvent.EventType.MODIFY -> out.info("Event caught-File modified: " + event.path())
        DirectoryChangeEvent.EventType.DELETE -> out.info("Event caught-File deleted: " + event.path())
        DirectoryChangeEvent.EventType.OVERFLOW -> TODO()
        null -> {
          TODO()
        }
      }
    }
    // .fileHashing(false) // defaults to true
    // .logger(logger) // defaults to LoggerFactory.getLogger(DirectoryWatcher.class)
    // .watchService(watchService) // defaults based on OS to either JVM WatchService or the JNA macOS WatchService
    .build()

  @Throws(IOException::class)
  fun stopWatching() {
    watcher.close()
  }

  fun watch(): CompletableFuture<Void> {
    // you can also use watcher.watch() to block the current thread
    return watcher.watchAsync()
  }
}

fun main() = runBlocking {
  val directoryToWatch = Files.createTempDirectory("watch")
  out.info("Watching directory: $directoryToWatch")

  DirectoryWatchingUtility(directoryToWatch).watch()

  thread {
    for (i in 1..5) {
      val file = Files.createTempFile(directoryToWatch, "file-${i}-", ".txt")
      out.info("Created file: $file")
      Thread.sleep(500)
    }
  }


  delay(5500)

  out.info("End of main")
  println()
}
```

### Command to reproduce:
```bash
gt.sandbox.checkout.commit d621a774e297aadc30ae \
&& cd "${GT_SANDBOX_REPO}" \
&& cmd.run.announce "./gradlew run --quiet"
```

### Recorded output of command:
```txt
[elapsed:    6ms][tname:main/tid:1] Watching directory: /var/folders/t3/4h_q4whx30qgckyh7wnr78jc0000gn/T/watch13933155348729232110
[elapsed:  241ms][tname:Thread-1/tid:25] Created file: /var/folders/t3/4h_q4whx30qgckyh7wnr78jc0000gn/T/watch13933155348729232110/file-1-3240764422450361632.txt
[elapsed:  258ms][tname:ForkJoinPool.commonPool-worker-1/tid:23] Event caught-File created: /var/folders/t3/4h_q4whx30qgckyh7wnr78jc0000gn/T/watch13933155348729232110/file-1-3240764422450361632.txt
[elapsed:  747ms][tname:Thread-1/tid:25] Created file: /var/folders/t3/4h_q4whx30qgckyh7wnr78jc0000gn/T/watch13933155348729232110/file-2-11846113693094212674.txt
[elapsed:  761ms][tname:ForkJoinPool.commonPool-worker-1/tid:23] Event caught-File created: /var/folders/t3/4h_q4whx30qgckyh7wnr78jc0000gn/T/watch13933155348729232110/file-2-11846113693094212674.txt
[elapsed: 1254ms][tname:Thread-1/tid:25] Created file: /var/folders/t3/4h_q4whx30qgckyh7wnr78jc0000gn/T/watch13933155348729232110/file-3-14293414887898962908.txt
[elapsed: 1268ms][tname:ForkJoinPool.commonPool-worker-1/tid:23] Event caught-File created: /var/folders/t3/4h_q4whx30qgckyh7wnr78jc0000gn/T/watch13933155348729232110/file-3-14293414887898962908.txt
[elapsed: 1759ms][tname:Thread-1/tid:25] Created file: /var/folders/t3/4h_q4whx30qgckyh7wnr78jc0000gn/T/watch13933155348729232110/file-4-1101085381830760287.txt
[elapsed: 1771ms][tname:ForkJoinPool.commonPool-worker-1/tid:23] Event caught-File created: /var/folders/t3/4h_q4whx30qgckyh7wnr78jc0000gn/T/watch13933155348729232110/file-4-1101085381830760287.txt
[elapsed: 2266ms][tname:Thread-1/tid:25] Created file: /var/folders/t3/4h_q4whx30qgckyh7wnr78jc0000gn/T/watch13933155348729232110/file-5-17523403180286703687.txt
[elapsed: 2280ms][tname:ForkJoinPool.commonPool-worker-1/tid:23] Event caught-File created: /var/folders/t3/4h_q4whx30qgckyh7wnr78jc0000gn/T/watch13933155348729232110/file-5-17523403180286703687.txt
[elapsed: 5744ms][tname:main/tid:1] End of main
```

